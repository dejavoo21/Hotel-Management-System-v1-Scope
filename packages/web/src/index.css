@tailwind base;
@tailwind components;
@tailwind utilities;

/* Semantic design tokens (default = LaFlo Professional) */
:root {
  /* Primary accent - Sky blue (professional, calm) */
  --color-primary: 14 165 233;
  --color-primary-hover: 2 132 199;
  --color-on-primary: 255 255 255;
  
  /* Neutral backgrounds */
  --color-bg: 248 250 252;
  --color-bg-card: 255 255 255;
  
  /* Text colors */
  --color-text-main: 15 23 42;
  --color-text-muted: 100 116 139;
  
  /* Borders and states */
  --color-border: 226 232 240;
  --color-success: 16 185 129;
  --color-warning: 217 119 6;
  --color-danger: 220 38 38;
  
  /* Accent - Lime green for success highlights only */
  --color-accent: 132 204 22;

  /* Primary scale - Sky blue */
  --color-primary-50: 240 249 255;
  --color-primary-100: 224 242 254;
  --color-primary-200: 186 230 253;
  --color-primary-300: 125 211 252;
  --color-primary-400: 56 189 248;
  --color-primary-500: 14 165 233;
  --color-primary-600: 2 132 199;
  --color-primary-700: 3 105 161;
  --color-primary-800: 7 89 133;
  --color-primary-900: 12 74 110;
  --color-primary-950: 8 47 73;
}

[data-theme='laflo'] {
  /* LaFlo theme retains lime green as the main brand color */
  --color-primary: 101 163 13;
  --color-primary-hover: 77 124 15;
  --color-on-primary: 255 255 255;
  --color-bg: 248 250 252;
  --color-bg-card: 255 255 255;
  --color-text-main: 15 23 42;
  --color-text-muted: 100 116 139;
  --color-border: 226 232 240;
  --color-success: 16 185 129;
  --color-warning: 217 119 6;
  --color-danger: 220 38 38;
  --color-accent: 132 204 22;

  --color-primary-50: 247 254 231;
  --color-primary-100: 236 252 203;
  --color-primary-200: 217 249 157;
  --color-primary-300: 190 242 100;
  --color-primary-400: 163 230 53;
  --color-primary-500: 197 232 108;
  --color-primary-600: 132 204 22;
  --color-primary-700: 101 163 13;
  --color-primary-800: 77 124 15;
  --color-primary-900: 54 83 20;
  --color-primary-950: 26 46 5;
}

[data-theme='ocean'] {
  --color-primary: 14 165 233;
  --color-primary-hover: 2 132 199;
  --color-on-primary: 255 255 255;
  --color-bg: 247 250 252;
  --color-bg-card: 255 255 255;
  --color-text-main: 15 23 42;
  --color-text-muted: 100 116 139;
  --color-border: 226 232 240;
  --color-success: 5 150 105;
  --color-warning: 217 119 6;
  --color-danger: 220 38 38;

  --color-primary-50: 240 249 255;
  --color-primary-100: 224 242 254;
  --color-primary-200: 186 230 253;
  --color-primary-300: 125 211 252;
  --color-primary-400: 56 189 248;
  --color-primary-500: 14 165 233;
  --color-primary-600: 2 132 199;
  --color-primary-700: 3 105 161;
  --color-primary-800: 7 89 133;
  --color-primary-900: 12 74 110;
  --color-primary-950: 8 47 73;
}

[data-theme='amber'] {
  --color-primary: 217 119 6;
  --color-primary-hover: 180 83 9;
  --color-on-primary: 17 24 39;
  --color-bg: 255 251 235;
  --color-bg-card: 255 255 255;
  --color-text-main: 23 23 23;
  --color-text-muted: 120 113 108;
  --color-border: 231 229 228;
  --color-success: 5 150 105;
  --color-warning: 217 119 6;
  --color-danger: 220 38 38;

  --color-primary-50: 255 251 235;
  --color-primary-100: 254 243 199;
  --color-primary-200: 253 230 138;
  --color-primary-300: 252 211 77;
  --color-primary-400: 251 191 36;
  --color-primary-500: 245 158 11;
  --color-primary-600: 217 119 6;
  --color-primary-700: 180 83 9;
  --color-primary-800: 146 64 14;
  --color-primary-900: 120 53 15;
  --color-primary-950: 69 26 3;
}

[data-theme='dark'] {
  --color-primary: 163 230 53;
  --color-primary-hover: 132 204 22;
  --color-on-primary: 15 23 42;
  --color-bg: 15 23 42;
  --color-bg-card: 30 41 59;
  --color-text-main: 248 250 252;
  --color-text-muted: 148 163 184;
  --color-border: 51 65 85;
  --color-success: 52 211 153;
  --color-warning: 251 191 36;
  --color-danger: 248 113 113;

  --color-primary-50: 33 48 12;
  --color-primary-100: 45 64 18;
  --color-primary-200: 60 85 26;
  --color-primary-300: 82 120 30;
  --color-primary-400: 117 169 39;
  --color-primary-500: 163 230 53;
  --color-primary-600: 132 204 22;
  --color-primary-700: 101 163 13;
  --color-primary-800: 77 124 15;
  --color-primary-900: 54 83 20;
  --color-primary-950: 26 46 5;
}

/* Custom base styles */
@layer base {
  html {
    font-family: 'Inter var', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
  }

  body {
    background-color: rgb(var(--color-bg));
    color: rgb(var(--color-text-main));
    /* Safe area insets for notched devices */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    overscroll-behavior-y: contain;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  body[data-bg='mist'] {
    background: radial-gradient(circle at top left, rgb(var(--color-primary-50)) 0%, rgb(var(--color-bg)) 35%, rgb(238 242 255) 100%);
  }

  body[data-bg='linen'] {
    background-color: rgb(var(--color-bg));
    background-image: radial-gradient(rgb(var(--color-border)) 0.5px, transparent 0.5px);
    background-size: 16px 16px;
  }

  body[data-bg='glow'] {
    background: linear-gradient(135deg, rgb(var(--color-bg)) 0%, rgb(var(--color-primary-100)) 55%, rgb(254 252 232) 100%);
  }

  body[data-bg='dusk'] {
    background: linear-gradient(135deg, rgb(239 246 255) 0%, rgb(var(--color-bg)) 45%, rgb(254 243 199) 100%);
  }

  body[data-bg='sand'] {
    background: linear-gradient(135deg, rgb(254 243 199) 0%, rgb(var(--color-bg)) 45%, rgb(255 251 235) 100%);
  }

  body[data-bg='tide'] {
    background-color: rgb(var(--color-bg));
    background-image:
      radial-gradient(circle at 20% 20%, rgb(224 242 254) 0%, transparent 45%),
      radial-gradient(circle at 80% 0%, rgb(var(--color-primary-50)) 0%, transparent 50%);
  }

  :focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }
}

/* Laflo-style scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--color-bg));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--color-border));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-text-muted) / 0.65);
}

@layer components {
  .card {
    @apply rounded-xl bg-card p-4 shadow-card ring-1 ring-border;
  }

  .card-hover {
    @apply transition-all duration-200 hover:-translate-y-0.5 hover:shadow-card-hover;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .btn-primary {
    @apply btn focus-visible:ring-primary-500;
    background-color: rgb(var(--color-primary));
    color: rgb(var(--color-on-primary));
  }

  .btn-primary:hover {
    background-color: rgb(var(--color-primary-hover));
  }

  .btn-secondary {
    @apply btn bg-card text-text-main hover:bg-border/60 focus-visible:ring-border;
  }

  .btn-outline {
    @apply btn border border-border bg-card text-text-main hover:bg-bg/80 focus-visible:ring-border;
  }

  .btn-ghost {
    @apply btn text-text-muted hover:bg-border/50 hover:text-text-main focus-visible:ring-border;
  }

  .btn-danger {
    @apply btn bg-danger text-white hover:bg-danger/90 focus-visible:ring-danger;
  }

  .btn-success {
    @apply btn bg-success text-white hover:bg-success/90 focus-visible:ring-success;
  }

  .input {
    @apply block w-full rounded-lg border border-border bg-card px-3 py-2 text-sm text-text-main placeholder-text-muted shadow-sm transition-colors focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 disabled:cursor-not-allowed disabled:bg-border/30 disabled:text-text-muted;
  }

  .input-error {
    @apply border-danger focus:border-danger focus:ring-danger;
  }

  .label {
    @apply mb-1 block text-sm font-medium text-text-main;
  }

  .status-pill {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  .status-available {
    @apply status-pill bg-success/10 text-success;
  }

  .status-occupied {
    @apply status-pill bg-blue-500/10 text-blue-600;
  }

  .status-dirty {
    @apply status-pill bg-warning/10 text-warning;
  }

  .status-oos,
  .status-checked-out {
    @apply status-pill bg-border/70 text-text-muted;
  }

  .status-confirmed {
    @apply status-pill bg-blue-500/10 text-blue-600;
  }

  .status-checked-in {
    @apply status-pill bg-success/10 text-success;
  }

  .status-cancelled {
    @apply status-pill bg-danger/10 text-danger;
  }

  .table-container {
    @apply overflow-x-auto rounded-xl bg-card shadow-card ring-1 ring-border;
  }

  .table {
    @apply min-w-full divide-y divide-border;
  }

  .table thead {
    @apply bg-bg;
  }

  .table th {
    @apply px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-text-muted;
  }

  .table td {
    @apply whitespace-nowrap px-4 py-3 text-sm text-text-main;
  }

  .table tbody tr {
    @apply transition-colors hover:bg-bg/70;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 1.5s infinite;
  background: linear-gradient(
    90deg,
    rgb(var(--color-bg)) 25%,
    rgb(var(--color-border)) 50%,
    rgb(var(--color-bg)) 75%
  );
  background-size: 200% 100%;
}
